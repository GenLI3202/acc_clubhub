# ACC ClubHub è¿­ä»£å¼€å‘æµç¨‹

> **ç†å¿µ**: æ­ä¹é«˜ï¼Œå…ˆéª¨æ¶ã€åæ ·å¼ã€å†åŠŸèƒ½  
> **åŸåˆ™**: æ¯ä¸€å±‚å®Œæˆåéƒ½æ˜¯å¯è¿è¡Œã€å¯é¢„è§ˆçš„çŠ¶æ€

---

## å¼€å‘å±‚æ¬¡æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Layer 4: åŠŸèƒ½æ¨¡å—                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚  â”‚  Layer 3: å†…å®¹ç³»ç»Ÿ                               â”‚â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚
â”‚  â”‚  â”‚  Layer 2: æ ·å¼çš®è‚¤                           â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  Layer 1: éª¨æ¶ç»“æ„                       â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â”‚  (HTML ç»“æ„ + å¯¼èˆª + å ä½ç¬¦)              â”‚â”‚â”‚â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚â”‚
â”‚  â”‚  â”‚  (è“éª‘å£« CSS + ç»„ä»¶æ ·å¼)                     â”‚â”‚â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”‚
â”‚  â”‚  (Decap CMS + å†…å®¹é›†åˆ)                         â”‚â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚  (è®¤è¯ + æŠ¥å + æœç´¢ + é‚®ä»¶)                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## Layer 1: éª¨æ¶ (Skeleton)

> **ç›®æ ‡**: ç½‘ç«™èƒ½è·‘èµ·æ¥ï¼Œæ‰€æœ‰é¡µé¢èƒ½ç‚¹å‡»ï¼Œå†…å®¹ç”¨å ä½ç¬¦

### äº¤ä»˜ç‰©

```
frontend/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ layouts/
â”‚   â”‚   â””â”€â”€ BaseLayout.astro      # åŸºç¡€å¸ƒå±€ (æ— æ ·å¼)
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ Header.astro          # å¯¼èˆªæ éª¨æ¶
â”‚   â”‚   â””â”€â”€ Footer.astro          # é¡µè„šéª¨æ¶
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ index.astro           # é¦–é¡µ (å ä½)
â”‚   â”‚   â”œâ”€â”€ events/
â”‚   â”‚   â”‚   â””â”€â”€ index.astro       # æ…•åŸæ—¥å¸¸ (å ä½)
â”‚   â”‚   â”œâ”€â”€ media/
â”‚   â”‚   â”‚   â””â”€â”€ index.astro       # è½¦å½±éª‘è¸ª (å ä½)
â”‚   â”‚   â”œâ”€â”€ knowledge/
â”‚   â”‚   â”‚   â”œâ”€â”€ gear.astro        # å™¨æ¢°çŸ¥è¯† (å ä½)
â”‚   â”‚   â”‚   â””â”€â”€ training.astro    # ç§‘å­¦è®­ç»ƒ (å ä½)
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â””â”€â”€ index.astro       # éª‘è¡Œè·¯çº¿åº“ (å ä½)
â”‚   â”‚   â””â”€â”€ about.astro           # å…³äº ACC (å ä½)
â”‚   â””â”€â”€ styles/
â”‚       â””â”€â”€ base.css              # æœ€å°åŒ– CSS (ä»… reset)
â”œâ”€â”€ public/
â”‚   â””â”€â”€ images/
â”‚       â””â”€â”€ logo.jpg              # Logo
â””â”€â”€ astro.config.mjs
```

### å ä½ç¬¦è§„èŒƒ

æ¯ä¸ªé¡µé¢ä½¿ç”¨ç»Ÿä¸€å ä½æ¨¡æ¿ï¼š

```astro
---
import BaseLayout from '../layouts/BaseLayout.astro';
---
<BaseLayout title="é¡µé¢æ ‡é¢˜">
  <main>
    <h1>é¡µé¢æ ‡é¢˜</h1>
    <p class="placeholder">ğŸš§ æ­¤åŠŸèƒ½æ­£åœ¨å»ºè®¾ä¸­...</p>
    
    <!-- åŠŸèƒ½åŒºå ä½ -->
    <section class="feature-placeholder">
      <h2>å¾…å®ç°: XXX åŠŸèƒ½</h2>
      <ul>
        <li>åŠŸèƒ½ç‚¹ 1</li>
        <li>åŠŸèƒ½ç‚¹ 2</li>
      </ul>
    </section>
  </main>
</BaseLayout>
```

### éªŒè¯ç‚¹
- [ ] `npm run dev` å¯åŠ¨æˆåŠŸ
- [ ] å¯¼èˆªæ æ‰€æœ‰é“¾æ¥å¯ç‚¹å‡»
- [ ] æ¯ä¸ªé¡µé¢éƒ½èƒ½è®¿é—®

### é¢„è®¡æ—¶é—´: 2-3 å°æ—¶

---

## Layer 2: æ ·å¼ (Style)

> **ç›®æ ‡**: å¥—ä¸Šè“éª‘å£«è®¾è®¡ç³»ç»Ÿï¼Œç½‘ç«™å˜å¥½çœ‹

### äº¤ä»˜ç‰©

```
frontend/src/styles/
â”œâ”€â”€ blaue-reiter.css              # ä»åŸé¡¹ç›®è¿ç§»
â”œâ”€â”€ variables.css                 # CSS å˜é‡æå–
â””â”€â”€ components/
    â”œâ”€â”€ header.css
    â”œâ”€â”€ footer.css
    â”œâ”€â”€ cards.css
    â””â”€â”€ buttons.css
```

### ä»»åŠ¡æ¸…å•

| ä»»åŠ¡ | è¯´æ˜ |
|------|------|
| è¿ç§» CSS å˜é‡ | é¢œè‰²ã€å­—ä½“ã€è§’åº¦ |
| Header æ ·å¼ | å¯¼èˆªæ  + ä¸‹åˆ’çº¿åŠ¨æ•ˆ |
| Footer æ ·å¼ | ç®€çº¦é¡µè„š |
| å¡ç‰‡ç»„ä»¶ | ç”¨äºæ´»åŠ¨/æ–‡ç« åˆ—è¡¨ |
| æŒ‰é’®ç»„ä»¶ | Primary / Ghost æ ·å¼ |
| é¦–é¡µ Hub | ä¸­å¤®å¯¼èˆªè®¾è®¡ |

### éªŒè¯ç‚¹
- [ ] é¦–é¡µå‘ˆç°è“éª‘å£«é£æ ¼
- [ ] å¯¼èˆªæ æœ‰æ‚¬åœåŠ¨æ•ˆ
- [ ] æŒ‰é’®æœ‰å€¾æ–œ + ç¡¬é˜´å½±

### é¢„è®¡æ—¶é—´: 4-6 å°æ—¶

---

## Layer 3: å†…å®¹ (Content)

> **ç›®æ ‡**: CMS å¯ç”¨ï¼Œèƒ½å‘å¸ƒæ–‡ç« 

### äº¤ä»˜ç‰©

```
frontend/
â”œâ”€â”€ public/admin/
â”‚   â”œâ”€â”€ index.html                # Decap CMS å…¥å£
â”‚   â””â”€â”€ config.yml                # CMS é…ç½®
â””â”€â”€ src/content/
    â”œâ”€â”€ config.ts                 # å†…å®¹é›†åˆå®šä¹‰
    â”œâ”€â”€ media/                    # è½¦å½±éª‘è¸ª
    â”‚   â””â”€â”€ _schema.md
    â”œâ”€â”€ knowledge/
    â”‚   â”œâ”€â”€ gear/                 # å™¨æ¢°çŸ¥è¯†
    â”‚   â””â”€â”€ training/             # ç§‘å­¦è®­ç»ƒ
    â””â”€â”€ routes/                   # éª‘è¡Œè·¯çº¿
        â””â”€â”€ _schema.md
```

### CMS é…ç½®éª¨æ¶

```yaml
# public/admin/config.yml
backend:
  name: github
  repo: GenLI3202/acc_clubhub
  branch: main
  base_url: https://acc-club.com  # OAuth å›è°ƒ

collections:
  - name: media
    label: "ğŸ¬ è½¦å½±éª‘è¸ª"
    folder: "frontend/src/content/media"
    create: true
    fields:
      - { label: "æ ‡é¢˜", name: "title", widget: "string" }
      - { label: "ç±»å‹", name: "type", widget: "select", 
          options: ["å½±åƒ", "è®¿è°ˆ", "ç¿»å±±è¶Šå²­"] }
      - { label: "è§†é¢‘é“¾æ¥", name: "videoUrl", widget: "string", required: false }
      - { label: "å†…å®¹", name: "body", widget: "markdown" }

  - name: knowledge-gear
    label: "ğŸ”§ å™¨æ¢°çŸ¥è¯†"
    folder: "frontend/src/content/knowledge/gear"
    create: true
    fields:
      - { label: "æ ‡é¢˜", name: "title", widget: "string" }
      - { label: "ä½œè€…", name: "author", widget: "string" }
      - { label: "å†…å®¹", name: "body", widget: "markdown" }

  - name: knowledge-training
    label: "ğŸ“Š ç§‘å­¦è®­ç»ƒ"
    folder: "frontend/src/content/knowledge/training"
    create: true
    fields:
      - { label: "æ ‡é¢˜", name: "title", widget: "string" }
      - { label: "ä½œè€…", name: "author", widget: "string" }
      - { label: "å†…å®¹", name: "body", widget: "markdown" }

  - name: routes
    label: "ğŸ—ºï¸ éª‘è¡Œè·¯çº¿"
    folder: "frontend/src/content/routes"
    create: true
    fields:
      - { label: "è·¯çº¿å", name: "name", widget: "string" }
      - { label: "åŒºåŸŸ", name: "region", widget: "string" }
      - { label: "è·ç¦»(km)", name: "distance", widget: "number" }
      - { label: "çˆ¬å‡(m)", name: "elevation", widget: "number" }
      - { label: "éš¾åº¦", name: "difficulty", widget: "select",
          options: ["easy", "medium", "hard", "expert"] }
      - { label: "Stravaé“¾æ¥", name: "stravaUrl", widget: "string", required: false }
      - { label: "Komooté“¾æ¥", name: "komootUrl", widget: "string", required: false }
      - { label: "æè¿°", name: "body", widget: "markdown" }
```

### éªŒè¯ç‚¹
- [ ] è®¿é—® `/admin` èƒ½çœ‹åˆ° CMS ç•Œé¢
- [ ] åˆ›å»ºæµ‹è¯•æ–‡ç« æˆåŠŸ
- [ ] æ–‡ç« åœ¨å¯¹åº”é¡µé¢æ˜¾ç¤º

### é¢„è®¡æ—¶é—´: 4-5 å°æ—¶

---

## Layer 4: åŠŸèƒ½ (Features)

> **ç›®æ ‡**: æ ¸å¿ƒäº¤äº’åŠŸèƒ½ä¸Šçº¿

### 4.1 è®¤è¯ç³»ç»Ÿ

| äº¤ä»˜ç‰© | è¯´æ˜ |
|-------|------|
| `frontend/src/lib/supabase.ts` | Supabase å®¢æˆ·ç«¯ |
| `frontend/src/components/AuthButton.astro` | ç™»å½•/ç™»å‡ºæŒ‰é’® |
| `backend/auth.py` | JWT éªŒè¯ä¸­é—´ä»¶ |

### 4.2 æ´»åŠ¨æŠ¥å (æ…•åŸæ—¥å¸¸)

| äº¤ä»˜ç‰© | è¯´æ˜ |
|-------|------|
| `backend/routes/events.py` | æ´»åŠ¨ CRUD API |
| `backend/routes/rsvp.py` | æŠ¥å API |
| `frontend/src/components/EventCard.astro` | æ´»åŠ¨å¡ç‰‡ |
| `frontend/src/components/RegisterForm.astro` | æŠ¥åè¡¨å• |
| `backend/services/email.py` | Resend é‚®ä»¶ |

### 4.3 è·¯çº¿æœç´¢

| äº¤ä»˜ç‰© | è¯´æ˜ |
|-------|------|
| `frontend/src/lib/search.ts` | Fuse.js æœç´¢ |
| `frontend/src/components/RouteFilter.astro` | ç­›é€‰å™¨ç»„ä»¶ |
| `frontend/src/components/RouteCard.astro` | è·¯çº¿å¡ç‰‡ |

### 4.4 è§†é¢‘åµŒå…¥

| äº¤ä»˜ç‰© | è¯´æ˜ |
|-------|------|
| `frontend/src/components/VideoEmbed.astro` | YouTube/Bilibili iframe |

### 4.5 è¯„è®º

| äº¤ä»˜ç‰© | è¯´æ˜ |
|-------|------|
| `frontend/src/components/Comments.astro` | Giscus é›†æˆ |

### éªŒè¯ç‚¹
- [ ] Google ç™»å½•æˆåŠŸ
- [ ] åˆ›å»ºæ´»åŠ¨ â†’ æŠ¥å â†’ æ”¶åˆ°é‚®ä»¶
- [ ] æœç´¢è·¯çº¿è¿”å›æ­£ç¡®ç»“æœ
- [ ] è§†é¢‘èƒ½åµŒå…¥æ’­æ”¾
- [ ] è¯„è®ºèƒ½å‘å¸ƒ

### é¢„è®¡æ—¶é—´: 12-15 å°æ—¶

---

## å¼€å‘é¡ºåºå»ºè®®

```mermaid
gantt
    title è¿­ä»£å¼€å‘æ—¶é—´çº¿
    dateFormat  YYYY-MM-DD
    
    section Layer 1
    éª¨æ¶æ­å»º           :a1, 2026-02-01, 1d
    
    section Layer 2
    æ ·å¼å¥—ç”¨           :a2, after a1, 2d
    
    section Layer 3
    CMS é…ç½®           :a3, after a2, 2d
    
    section Layer 4
    è®¤è¯ç³»ç»Ÿ           :b1, after a3, 2d
    æ´»åŠ¨æŠ¥å           :b2, after b1, 3d
    è·¯çº¿æœç´¢           :b3, after b2, 2d
    è§†é¢‘/è¯„è®º          :b4, after b3, 1d
```

---

## é‡Œç¨‹ç¢‘æ£€æŸ¥ç‚¹

| é‡Œç¨‹ç¢‘ | å®Œæˆæ ‡å¿— | å¯æ¼”ç¤ºå†…å®¹ |
|-------|---------|-----------|
| **M1** | Layer 1 å®Œæˆ | ç°è‰²éª¨æ¶ç½‘ç«™ï¼Œæ‰€æœ‰é¡µé¢å¯è®¿é—® |
| **M2** | Layer 2 å®Œæˆ | è“éª‘å£«é£æ ¼ç½‘ç«™ï¼Œè§†è§‰å®Œæ•´ |
| **M3** | Layer 3 å®Œæˆ | CMS å¯ç”¨ï¼Œèƒ½å‘å¸ƒå†…å®¹ |
| **M4** | Layer 4 å®Œæˆ | å…¨åŠŸèƒ½ç½‘ç«™ä¸Šçº¿ |

---

å‡†å¤‡å¥½åå‘Šè¯‰æˆ‘ï¼Œæˆ‘ä» **Layer 1: éª¨æ¶** å¼€å§‹æ­å»ºï¼
