---
// src/pages/[lang]/index.astro
// å¤šè¯­è¨€é¦–é¡µ

import BaseLayout from '../../layouts/BaseLayout.astro';
import { locales, t, type Locale } from '../../lib/i18n';

export function getStaticPaths() {
  return locales.map((lang) => ({ params: { lang } }));
}

const { lang } = Astro.params as { lang: Locale };

const sections = [
  {
    title: lang === 'zh' ? 'æ…•åŸ<br/>æ—¥å¸¸' : lang === 'de' ? 'MÃ¼nchner<br/>Alltag' : 'Munich<br/>Daily',
    href: `/${lang}/events`,
    description:
      lang === 'zh'
        ? 'Social Rideã€Training Dayã€æ´»åŠ¨æŠ¥å'
        : lang === 'de'
          ? 'Social Ride, Training Day, Anmeldung'
          : 'Social Ride, Training Day, Registration',
    emoji: 'ğŸš´',
  },
  {
    title: lang === 'zh' ? 'è½¦å½±<br/>éª‘è¸ª' : lang === 'de' ? 'Medien<br/>Archiv' : 'Media<br/>Archive',
    href: `/${lang}/media`,
    description:
      lang === 'zh'
        ? 'å½±åƒèµ„æ–™ã€éª‘å‹è®¿è°ˆã€ç¿»å±±è¶Šå²­è®°å½•'
        : lang === 'de'
          ? 'Videos, Interviews, Bergabenteuer'
          : 'Videos, Interviews, Mountain Adventures',
    emoji: 'ğŸ¬',
  },
  {
    title: lang === 'zh' ? 'å™¨æ¢°<br/>çŸ¥è¯†' : lang === 'de' ? 'AusrÃ¼st-<br/>ung' : 'Gear<br/>Guide',
    href: `/${lang}/knowledge/gear`,
    description:
      lang === 'zh'
        ? 'è´­è½¦æŒ‡å—ã€ç»´ä¿® Workshopã€æ–°å“è§£è¯»'
        : lang === 'de'
          ? 'Kaufberatung, Workshops, Neuheiten'
          : 'Buying Guide, Workshops, New Products',
    emoji: 'ğŸ”§',
  },
  {
    title: lang === 'zh' ? 'ç§‘å­¦<br/>è®­ç»ƒ' : lang === 'de' ? 'Wissen-<br/>schaft' : 'Science<br/>Training',
    href: `/${lang}/knowledge/training`,
    description:
      lang === 'zh'
        ? 'è®­ç»ƒæ–¹æ³•è®ºã€å®‰å…¨ç§‘æ™®'
        : lang === 'de'
          ? 'Trainingsmethoden, Sicherheit'
          : 'Training Methods, Safety Tips',
    emoji: 'ğŸ“Š',
  },
  {
    title: lang === 'zh' ? 'éª‘è¡Œ<br/>è·¯çº¿åº“' : lang === 'de' ? 'Routen-<br/>datenbank' : 'Route<br/>Database',
    href: `/${lang}/routes`,
    description:
      lang === 'zh'
        ? 'å¯æœç´¢è·¯çº¿æ•°æ®åº“ã€Strava/Komoot é“¾æ¥'
        : lang === 'de'
          ? 'Suchbare Routen, Strava/Komoot Links'
          : 'Searchable Routes, Strava/Komoot Links',
    emoji: 'ğŸ—ºï¸',
  },
];
---

<BaseLayout title={t(lang, 'nav.home')} lang={lang}>
  <section class="hero">
    <h1>ACC ClubHub</h1>
    <p class="hero-subtitle">
      {lang === 'zh'
        ? 'Across Cycling Club Munich â€” æ…•å°¼é»‘åäººéª‘è¡Œä¿±ä¹éƒ¨é—¨æˆ·'
        : lang === 'de'
          ? 'Across Cycling Club Munich â€” Chinesischer Radsportverein MÃ¼nchen'
          : 'Across Cycling Club Munich â€” Chinese Cycling Club Portal'}
    </p>
    <span class="status-badge status-badge--coming">
      {lang === 'zh' ? 'Beta å»ºè®¾ä¸­' : lang === 'de' ? 'Beta in Entwicklung' : 'Beta Under Construction'}
    </span>
  </section>

  <section class="sections-hub">
    <div class="hub-grid">
      {sections.map((section) => (
        <a href={section.href} class="hub-card">
          <span class="hub-card-emoji">{section.emoji}</span>
          <h3 set:html={section.title} />
          <p>{section.description}</p>
        </a>
      ))}
    </div>
  </section>
</BaseLayout>

<style>
  .hero {
    text-align: center;
    padding: var(--space-xl) 0 var(--space-lg);
  }

  .hero h1 {
    font-size: 3.5rem;
    letter-spacing: -0.03em;
    color: var(--color-primary);
  }

  .hero-subtitle {
    font-family: var(--font-body);
    font-size: 1.15rem;
    color: #666;
    margin-top: var(--space-sm);
    margin-bottom: var(--space-md);
  }

  .sections-hub {
    margin-top: var(--space-xl);
  }

  .sections-hub h2 {
    margin-bottom: var(--space-sm);
  }

  .sections-hub h2::after {
    content: '';
    display: block;
    width: 40px;
    height: 3px;
    background: var(--color-accent);
    margin-top: var(--space-xs);
    transform: rotate(-1deg);
  }
</style>
